<div class="card h-full bg-gradient-panel shadow-panel border-0">
  <div class="card-content space-y-6">
    <div class="space-y-3">
      <div class="flex items-center justify-between">
        <h3 class="font-semibold text-foreground flex items-center gap-2">
          <lucide-angular [img]="HouseIcon"></lucide-angular>
          BÃ¢timents
        </h3>
        <span class="badge badge-secondary">{{ buildings.length }}</span>
      </div>

      @if (selectedBuilding === undefined) {
        <p class="text-sm text-muted-foreground">Loading...</p>
      } @else {
        <select
          id="buildingSelect"
          [(ngModel)]="selectedBuilding"
          (ngModelChange)="selectBuilding.emit($event)"
          class="w-full p-2 border rounded"
        >
          @for (building of buildings; track building.id) {
            <option [ngValue]="building">{{ building.name }}</option>
          }
        </select>

        <button
          class="w-full btn btn-outline bg-primary/5 border-primary/20 text-primary mt-2"
          (click)="addBuilding.emit()"
        >
          Ajouter un nouveau bÃ¢timent
        </button>
      }
    </div>

    <hr />

    <div class="space-y-3">
      <div class="flex items-center justify-between">
        <h3 class="font-semibold text-foreground flex items-center gap-2">
          <lucide-angular [img]="LayersIcon"></lucide-angular>
          Ã‰tages
        </h3>
        <span class="badge badge-secondary">{{ storeys.length }}</span>
      </div>

      <div class="space-y-2">
        @for (storey of storeys; track storey.id) {
          <div
            class="storey-item"
            [class.selected]="selectedStorey && storey.id === selectedStorey.id"
          >
            <button
              class="flex-1 text-left"
              (click)="selectStorey.emit(storey)"
            >
              <div class="font-medium text-sm text-foreground">
                {{ storey.name }}
              </div>
              <!-- <div class="text-xs text-muted-foreground">
                {{ storey.rooms.length }} piÃ¨ce{{
                  storey.rooms.length !== 1 ? "s" : ""
                }}
              </div> -->
            </button>

            @if (storeys.length > 1) {
              <button
                class="btn btn-ghost text-destructive hover:bg-destructive/10"
                (click)="removeStorey.emit(storey)"
              >
                ðŸ—‘
              </button>
            }
          </div>
        }
      </div>

      <button
        class="w-full btn btn-outline bg-primary/5 border-primary/20 text-primary mt-2"
        (click)="addStorey.emit()"
      >
        Ajouter un Ã©tage
      </button>
    </div>

    <hr />
  </div>
</div>
